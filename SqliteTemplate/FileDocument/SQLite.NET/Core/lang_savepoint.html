<!DOCTYPE html>
<!-- saved from url=(0117)file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_savepoint.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="./lang_savepoint_files/sqlite.css" rel="stylesheet">
<title _msttexthash="7668700" _msthash="0">保存点</title>
<!-- path= -->
</head>
<body>
<div class="nosearch">
<a href="https://www.sqlite.org/index.html">
<img class="logo" src="./lang_savepoint_files/sqlite370_banner.gif" alt="SQLite" border="0" _mstalt="70863" _msthash="1">
</a>
<div><!-- IE hack to prevent disappearing logo --></div>
<div class="tagline desktoponly" _msttexthash="53246063" _msthash="2">小。快。可靠。<br _istranslated="1">选择任意三个。</div>
<div class="menu mainmenu">
<ul>
<li><a href="https://www.sqlite.org/index.html" _msttexthash="2136498" _msthash="3">家</a>
</li><li class="mobileonly" _msthidden="1"><a href="https://www.sqlite.org/javascript:void(0)" onclick="toggle_div(&quot;submenu&quot;)" _msttexthash="45591" _msthidden="1" _msthash="4">Menu</a>
</li><li class="wideonly"><a href="https://www.sqlite.org/about.html" _msttexthash="5448781" _msthash="5">大约</a>
</li><li class="desktoponly"><a href="https://www.sqlite.org/docs.html" _msttexthash="5144373" _msthash="6">文档</a>
</li><li class="desktoponly"><a href="https://www.sqlite.org/download.html" _msttexthash="5638321" _msthash="7">下载</a>
</li><li class="wideonly"><a href="https://www.sqlite.org/copyright.html" _msttexthash="9675445" _msthash="8">许可证</a>
</li><li class="desktoponly"><a href="https://www.sqlite.org/support.html" _msttexthash="4993053" _msthash="9">支持</a>
</li><li class="desktoponly"><a href="https://www.sqlite.org/prosupport.html" _msttexthash="5377151" _msthash="10">购买</a>
</li><li class="search" id="search_menubutton" _msthidden="1" style="display: none;">
<a href="https://www.sqlite.org/javascript:void(0)" onclick="toggle_search()" _msttexthash="74607" _msthidden="1" _msthash="11">Search</a>
</li></ul>
</div>
<div class="menu submenu" id="submenu" _msthidden="5">
<ul _msthidden="5">
<li _msthidden="1"><a href="https://www.sqlite.org/about.html" _msttexthash="60892" _msthidden="1" _msthash="12">About</a>
</li><li _msthidden="1"><a href="https://www.sqlite.org/docs.html" _msttexthash="234962" _msthidden="1" _msthash="13">Documentation</a>
</li><li _msthidden="1"><a href="https://www.sqlite.org/download.html" _msttexthash="113308" _msthidden="1" _msthash="14">Download</a>
</li><li _msthidden="1"><a href="https://www.sqlite.org/support.html" _msttexthash="100646" _msthidden="1" _msthash="15">Support</a>
</li><li _msthidden="1"><a href="https://www.sqlite.org/prosupport.html" _msttexthash="113477" _msthidden="1" _msthash="16">Purchase</a>
</li></ul>
</div>
<div class="searchmenu" id="searchmenu" _msthidden="3">
<form method="GET" action="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/search" _msthidden="3">
<select name="s" id="searchtype" _msthidden="2">
<option value="d" _msttexthash="416429" _msthidden="1" _msthash="17">Search Documentation</option>
<option value="c" _msttexthash="276705" _msthidden="1" _msthash="18">Search Changelog</option>
</select>
<input type="text" name="q" id="searchbox" value="">
<input type="submit" value="Go" _msthidden="A" _mstvalue="18005" _msthash="19">
</form>
</div>
</div>
<script>
function toggle_div(nm) {
var w = document.getElementById(nm);
if( w.style.display=="block" ){
w.style.display = "none";
}else{
w.style.display = "block";
}
}
function toggle_search() {
var w = document.getElementById("searchmenu");
if( w.style.display=="block" ){
w.style.display = "none";
} else {
w.style.display = "block";
setTimeout(function(){
document.getElementById("searchbox").focus()
}, 30);
}
}
function div_off(nm){document.getElementById(nm).style.display="none";}
window.onbeforeunload = function(e){div_off("submenu");}
/* Disable the Search feature if we are not operating from CGI, since */
/* Search is accomplished using CGI and will not work without it. */
if( !location.origin || 1 ){
document.getElementById("search_menubutton").style.display = "none";
}
/* Used by the Hide/Show button beside syntax diagrams, to toggle the */
function hideorshow(btn,obj){
var x = document.getElementById(obj);
var b = document.getElementById(btn);
if( x.style.display!='none' ){
x.style.display = 'none';
b.innerHTML='show';
}else{
x.style.display = '';
b.innerHTML='hide';
}
return false;
}

</script>
<div class="fancy">
<div class="nosearch">
<div class="fancy_title" _msttexthash="7668700" _msthash="20">保存点</div>
</div>




<h1 id="syntax" _msttexthash="7822230" _msthash="21"><span _istranslated="1">1. </span>语法</h1>

<p><b><a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/syntax/savepoint-stmt.html" _msttexthash="24401273" _msthash="22">savepoint-stmt 中：</a></b>
<button id="xb9721ecc" onclick="hideorshow(&quot;xb9721ecc&quot;,&quot;x4076c644&quot;)" _msttexthash="7070024" _msthash="23">隐藏</button></p>
 <div id="x4076c644" class="imgcontainer">
 <div style="max-width:346px"><svg xmlns="http://www.w3.org/2000/svg" class="pikchr" viewBox="0 0 346.003 34.56" width="346.003" height="34.56">
<circle cx="5" cy="17" r="3.6" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<polygon points="32,17 20,21 20,12" style="fill:rgb(0,0,0)"></polygon>
<path d="M9,17L26,17" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M47,32L131,32A15 15 0 0 0 146 17A15 15 0 0 0 131 2L47,2A15 15 0 0 0 32 17A15 15 0 0 0 47 32Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="89" y="17" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="7668700" _mstHash="24">保存点</text>
<polygon points="169,17 158,21 158,12" style="fill:rgb(0,0,0)"></polygon>
<path d="M146,17L164,17" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M185,32L298,32A15 15 0 0 0 313 17A15 15 0 0 0 298 2L185,2A15 15 0 0 0 169 17A15 15 0 0 0 185 32Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="241" y="17" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="14929798" _mstHash="25">保存点名称</text>
<polygon points="336,17 325,21 325,12" style="fill:rgb(0,0,0)"></polygon>
<path d="M313,17L330,17" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<circle cx="340" cy="17" r="3.6" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
</svg>
</div>
</div>
<p><b><a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/syntax/release-stmt.html" _msttexthash="22124271" _msthash="26">release-stmt 中：</a></b>
<button id="xa254d5c5" onclick="hideorshow(&quot;xa254d5c5&quot;,&quot;x9bcd8b3e&quot;)" _msttexthash="7070024" _msthash="27">隐藏</button></p>
 <div id="x9bcd8b3e" class="imgcontainer">
 <div style="max-width:488px"><svg xmlns="http://www.w3.org/2000/svg" class="pikchr" viewBox="0 0 488.736 54" width="488.736" height="54">
<circle cx="5" cy="17" r="3.6" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<polygon points="32,17 20,21 20,12" style="fill:rgb(0,0,0)"></polygon>
<path d="M9,17L26,17" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M47,32L111,32A15 15 0 0 0 126 17A15 15 0 0 0 111 2L47,2A15 15 0 0 0 32 17A15 15 0 0 0 47 32Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="79" y="17" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="6091774" _mstHash="28">释放</text>
<polygon points="162,17 150,21 150,12" style="fill:rgb(0,0,0)"></polygon>
<path d="M126,17L156,17" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M177,32L261,32A15 15 0 0 0 276 17A15 15 0 0 0 261 2L177,2A15 15 0 0 0 162 17A15 15 0 0 0 177 32Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="219" y="17" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="7668700" _mstHash="29">保存点</text>
<polygon points="312,17 301,21 301,12" style="fill:rgb(0,0,0)"></polygon>
<path d="M276,17L306,17" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M327,32L441,32A15 15 0 0 0 456 17A15 15 0 0 0 441 2L327,2A15 15 0 0 0 312 17A15 15 0 0 0 327 32Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="384" y="17" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="14929798" _mstHash="30">保存点名称</text>
<polygon points="479,17 467,21 467,12" style="fill:rgb(0,0,0)"></polygon>
<path d="M456,17L473,17" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<circle cx="482" cy="17" r="3.6" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<polygon points="219,47 207,51 207,43" style="fill:rgb(0,0,0)"></polygon>
<path d="M126,17 L 133,17 Q 141,17 141,32 L 141,32 Q 141,47 156,47 L 198,47 L 213,47" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M219,47 L 276,47 Q 291,47 291,32 L 291,32 Q 291,17 299,17 L 306,17" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</div>
</div>
<p><b><a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/syntax/rollback-stmt.html" _msttexthash="16073902" _msthash="31">回滚 stmt：</a></b>
<button id="xde6b8b6f" onclick="hideorshow(&quot;xde6b8b6f&quot;,&quot;x61de7464&quot;)" _msttexthash="7070024" _msthash="32">隐藏</button></p>
 <div id="x61de7464" class="imgcontainer">
 <div style="max-width:801px"><svg xmlns="http://www.w3.org/2000/svg" class="pikchr" viewBox="0 0 801.734 67.392" width="801.734" height="67.392">
<circle cx="5" cy="33" r="3.6" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<polygon points="32,33 20,38 20,29" style="fill:rgb(0,0,0)"></polygon>
<path d="M9,33L26,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M47,48L125,48A15 15 0 0 0 140 33A15 15 0 0 0 125 18L47,18A15 15 0 0 0 32 33A15 15 0 0 0 47 48Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="86" y="33" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="5770687" _mstHash="33">反转</text>
<polygon points="176,33 164,38 164,29" style="fill:rgb(0,0,0)"></polygon>
<path d="M140,33L170,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M191,48L303,48A15 15 0 0 0 318 33A15 15 0 0 0 303 18L191,18A15 15 0 0 0 176 33A15 15 0 0 0 191 48Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="247" y="33" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="4549636" _mstHash="34">交易</text>
<polygon points="390,33 378,38 378,29" style="fill:rgb(0,0,0)"></polygon>
<path d="M318,33L384,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M405,48L411,48A15 15 0 0 0 426 33A15 15 0 0 0 411 18L405,18A15 15 0 0 0 390 33A15 15 0 0 0 405 48Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="408" y="33" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="3026478" _mstHash="35">自</text>
<polygon points="462,33 450,38 450,29" style="fill:rgb(0,0,0)"></polygon>
<path d="M426,33L456,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M477,48L561,48A15 15 0 0 0 576 33A15 15 0 0 0 561 18L477,18A15 15 0 0 0 462 33A15 15 0 0 0 477 48Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="519" y="33" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="7668700" _mstHash="36">保存点</text>
<polygon points="612,33 601,38 601,29" style="fill:rgb(0,0,0)"></polygon>
<path d="M576,33L606,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M627,48L741,48A15 15 0 0 0 756 33A15 15 0 0 0 741 18L627,18A15 15 0 0 0 612 33A15 15 0 0 0 627 48Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="684" y="33" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central" _mstTextHash="14929798" _mstHash="37">保存点名称</text>
<polygon points="792,33 780,38 780,29" style="fill:rgb(0,0,0)"></polygon>
<path d="M756,33L786,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<circle cx="795" cy="33" r="3.6" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<polygon points="519,6 507,10 507,2" style="fill:rgb(0,0,0)"></polygon>
<path d="M426,33 L 433,33 Q 441,33 441,20 Q 441,6 456,6 L 498,6 L 513,6" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M519,6 L 576,6 Q 591,6 591,20 Q 591,33 599,33 L 606,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<polygon points="519,60 507,65 507,56" style="fill:rgb(0,0,0)"></polygon>
<path d="M352,33 L 359,33 Q 367,33 367,47 Q 367,60 382,60 L 498,60 L 513,60" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M519,60 L 756,60 Q 771,60 771,47 Q 771,33 778,33 L 786,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<polygon points="247,60 235,65 235,56" style="fill:rgb(0,0,0)"></polygon>
<path d="M140,33 L 147,33 Q 155,33 155,47 Q 155,60 170,60 L 226,60 L 241,60" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M247,60 L 318,60 Q 333,60 333,47 Q 333,33 340,33 L 348,33" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</div>
</div>


<h1 id="savepoints" _msttexthash="9567870" _msthash="38"><span _istranslated="1">2. </span>保存点</h1>

<p _msttexthash="560113801" _msthash="39">SAVEPOINT 是一种创建事务的方法，类似于 <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">BEGIN</a> 和 <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">COMMIT</a>，不同之处在于 SAVEPOINT 和 RELEASE 命令
被命名，并且可以嵌套。</p>

<p _msttexthash="1149580744" _msthash="40">SAVEPOINT 命令启动一个具有 name 的新事务。
交易名称不必是唯一的。
SAVEPOINT 可以在
a <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">开始</a>...<a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">COMMIT 的 COMMIT</a> 中。当 SAVEPOINT 是最外层的 Savepoint 时
并且它不在 <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">BEGIN...</a><a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">COMMIT</a> 时，行为是
与 BEGIN DEFERRED TRANSACTION 相同。</p>

<p _msttexthash="2502534060" _msthash="41">ROLLBACK TO 命令将数据库的状态恢复到
它就在相应的 SAVEPOINT 之后。请注意，与此不同的是
plain <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">ROLLBACK</a> 命令（不带 TO 关键字）ROLLBACK TO 命令
不会取消交易。与其取消交易，
ROLLBACK TO 命令在开始时再次重新启动事务。
但是，所有干预的 SAVEPOINT 都将被取消。</p>

<p _msttexthash="6070876266" _msthash="42">RELEASE 命令类似于 <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">SAVEPOINT 的 COMMIT</a>。
RELEASE 命令使所有 savepoint 返回到并包括
要从
事务堆栈。内部事务的 RELEASE
不会导致对数据库文件进行任何更改;它只是
从事务堆栈中删除保存点，使其
不再可能 ROLLBACK TO 那些保存点。
如果 RELEASE 命令释放最外层的保存点，则
事务堆栈变为空，则 RELEASE 相同
作为 <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">COMMIT。</a>
<a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">COMMIT</a> 命令可用于释放所有保存点和
提交事务，即使事务最初已启动
通过 SAVEPOINT 命令而不是 <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">BEGIN</a> 命令。</p>

<p _msttexthash="935492116" _msthash="43">如果 RELEASE 命令中的 savepoint-name 与任何
savepoint 当前在事务堆栈中，则没有 savepoint
released，则数据库保持不变，并且 RELEASE 命令返回
一个错误。</p>

<p _msttexthash="3056474018" _msthash="44">请注意，内部事务可能会提交（使用 RELEASE 命令）
但随后在外部事务中被 ROLLBACK 撤消其工作。
电源故障或程序崩溃或作系统崩溃将导致最外层的
transaction 回滚，撤消
那个外部事务，甚至是据称已经 “提交” 的更改
通过 RELEASE 命令。内容实际上未提交到磁盘上
直到最外层的事务提交。</p>

<p _msttexthash="69151537" _msthash="45">有几种方法可以考虑 RELEASE 命令：</p>

<ul>
<li><p _msttexthash="812971757" _msthash="46">有些人将 RELEASE 视为 SAVEPOINT 的 COMMIT 等价物。
这是一个可以接受的观点，只要你记得
内部事务提交的更改稍后可能会被
rollback 的 Alpha 函数。</p></li>

<li><p _msttexthash="1361419930" _msthash="47">RELEASE 的另一种视图是，它将命名事务合并到其
parent 事务，以便命名事务及其父事务变为
相同的交易。在 RELEASE 之后，命名事务及其父事务
将一起提交或回滚，无论他们的命运如何。</p></li>

<li><p _msttexthash="2471811602" _msthash="48">也可以将保存点视为
交易时间线中的 “marks” 来获取。在此视图中，SAVEPOINT 命令
创建新标记，则 ROLLBACK TO 命令将时间轴倒回
移动到命名标记后面的某个点，然后执行 RELEASE 命令
从时间轴上擦除标记，但实际上不进行任何标记
对数据库的更改。</p></li>
</ul>



<h1 id="transaction_nesting_rules" _msttexthash="22530573" _msthash="49"><span _istranslated="1">3. </span>交易嵌套规则</h1>

<p _msttexthash="123220747" _msthash="50">最后一个开始的交易将是第一个
事务已提交或回滚。</p>

<p _msttexthash="705143309" _msthash="51"><a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">BEGIN</a> 命令仅在事务堆栈为空时有效，或者
换句话说，如果没有待处理的交易。如果事务
stack 不为空，则命令<a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1"></a>
失败并显示错误。</p>

<p _msttexthash="157987635" _msthash="52"><a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">COMMIT</a> 命令提交所有未完成的事务并留下
交易堆栈为空。</p>

<p _msttexthash="2876241576" _msthash="53">RELEASE 命令以最近添加到
事务堆栈并向后释放 SavePoint
及时释放具有匹配 savepoint-name 的 savepoint。
之前的 Savepoint，即使是具有匹配 Savepoint-name 的 Savepoint，都是
变。
如果 RELEASE 命令导致
事务堆栈变为空（如果 RELEASE 命令释放
堆栈中最外层的事务），则事务提交。</p>

<p _msttexthash="171390193" _msthash="54">不带 TO 子句的 <a href="file:///E:/Code/VsStudio/Jingan567/LcDataBaseCoverAll/SqliteTemplate/FileDocument/SQLite.NET/Core/lang_transaction.html" _istranslated="1">ROLLBACK</a> 命令回滚所有事务
并将事务堆栈留空。</p>

<p _msttexthash="3528284539" _msthash="55">带有 TO 子句的 ROLLBACK 命令回滚正在进行的事务
及时倒退到具有匹配名称的最新 SAVEPOINT。
具有匹配名称的 SAVEPOINT 保留在事务堆栈上，
但是在创建 SAVEPOINT 之后发生的所有数据库更改
回滚。如果 ROLLBACK TO 命令中的 savepoint-name 没有
匹配堆栈上的任何 SAVEPOINT，则 ROLLBACK 命令将失败，并显示
error 并保持数据库的状态不变。</p>
<p align="center"><small><i _msttexthash="77565358" _msthash="56">此页面最后修改于 <a href="https://sqlite.org/docsrc/honeypot" id="mtimelink" data-href="https://sqlite.org/docsrc/finfo/pages/lang_savepoint.in?m=60d80524de" _istranslated="1">2022-01-08 05：02：57</a> UTC</i></small></p>

</div></body></html>